{% extends 'base.html.twig' %}

{% block title %}Task{% endblock %}

{% block body %}
    <div class="w-full min-h-screen flex justify-center">
        <div class="max-w-5xl w-full h-full flex flex-col text-zinc-800">

            {{ include('task/_header.html.twig') }}

            <div class="w-full">
                <h2 class="text-2xl font-semibold">About {{ task.title }}</h2>
            </div>

            <div>
                <div class="flex flex-col mt-4">
                    <div class="flex flex-col mt-4">
                        <p class="font-semibold text-sm">
                            Title
                        </p>
                        <p class="bg-zinc-50 text-zinc-800 rounded-md py-2 px-4 mt-1">
                            {{ task.title }}
                        </p>
                    </div>
                </div>

                <div class="flex flex-col mt-4">
                    <div class="flex flex-col mt-4">
                        <p class="font-semibold text-sm">
                            Description
                        </p>
                        <p class="bg-zinc-50 text-zinc-800 rounded-md py-2 px-4 mt-1">
                            {{ task.description }}
                        </p>
                    </div>
                </div>

                <div class="flex flex-col mt-4">
                    <div class="flex flex-col mt-4">
                        <p class="font-semibold text-sm">
                            Date
                        </p>
                        <p class="bg-zinc-50 text-zinc-800 rounded-md py-2 px-4 mt-1">
                            {{ task.date ? task.date|date('d-m-Y') : '' }}
                        </p>
                    </div>
                </div>

                <div class="flex items-center space-x-4 mt-4">
                    <div class="w-full flex flex-col mt-4">
                        <div class="flex flex-col mt-4">
                            <p class="font-semibold text-sm">
                                Category
                            </p>
                            <p class="bg-zinc-50 text-zinc-800 rounded-md py-2 px-4 mt-2">
                                {% if task.category %}
                                    {{ task.category.name }}
                                {% else %}
                                    No category assigned
                                {% endif %}
                            </p>
                        </div>
                    </div>

                    <div class="w-full flex flex-col mt-4">
                        <div class="flex flex-col mt-4">
                            <p class="font-semibold text-sm">
                                State
                            </p>
                            <p class="bg-zinc-50 text-zinc-800 rounded-md py-2 px-4 mt-2">
                                {{ task.state }}
                            </p>
                        </div>
                    </div>
                </div>

                <div class="flex flex-col mt-4">
                    <div class="flex flex-col mt-4">
                        <p class="font-semibold text-sm">
                            Assigned to
                        </p>
                        <div class="flex space-x-2 mt-1">
                            {% for user in task.users %}
                                <a href="{{ path('app_user_show', {'id': user.id}) }}" class="bg-indigo-100 text-indigo-500 font-semibold text-sm rounded-md px-4 py-2 hover:underline cursor-pointer">
                                    {{ user.firstname }} {{ user.lastname }}
                                </a>
                            {% else %}
                                <p class="bg-zinc-50 text-zinc-800 rounded-md py-2 px-4 mt-1">
                                    No user assigned
                                </p>
                            {% endfor %}
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
